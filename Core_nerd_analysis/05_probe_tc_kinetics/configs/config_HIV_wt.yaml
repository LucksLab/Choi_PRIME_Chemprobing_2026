run:
  label: 05_probe_tc_kinetics
  output_dir: Core_nerd_analysis
  backend: local
  threads: 4
  time: "00:39:00"

# Demonstrates the migrated probe timecourse fitting engine.
probe_timecourse:
  engine: python_baseline
  rounds:
    - round1_free
    - round2_global
    - round3_constrained

  # Reaction groups pulled from examples/nerd.sqlite
  rg_ids:
      - 83
      - 84
      - 85
      - 86
      - 87
      - 88
      - 89
      - 90

  outliers:
    - 84:050-HIV-WT-25c-b-6-m:34_G:modrate # 0tp too high
    - 85:051-HIV-WT-70c-a-6-m:34_G:modrate # 0tp too high
    - 90:056-HIV-WT-80c-b-6-m:34_G:modrate # 0tp too high
    - 90:056-HIV-WT-80c-b-6-m:28_G:modrate # 0tp too high
    - 90:056-HIV-WT-80c-b-6-m:17_G:modrate # 0tp too high
    - 90:056-HIV-WT-80c-b-6-m:18_G:modrate # 0tp too high
    - 90:056-HIV-WT-80c-b-6-m:21_G:modrate # 0tp too high
    - 90:056-HIV-WT-80c-b-6-m:26_G:modrate # 0tp too high
    - 90:056-HIV-WT-80c-b-6-m:32_G:modrate # 0tp too high
    - 90:056-HIV-WT-80c-b-6-m:33_G:modrate # 0tp too high
    - 90:056-HIV-WT-80c-b-6-m:36_G:modrate # 0tp too high
    - 90:045-HIV-WT-80c-b-3-p:34_G:GAmodrate # tp3 way too high

  # The example database stores probing timecourse amplitudes under multiple value types.
  valtype:
    - modrate
    - GAmodrate

  # Specify experimenter (only 1 currently supported).
  done_by: EKC
  
  min_points: 3
  overwrite: true

  # Optional nucleotide filter. Uncomment to focus on specific sites.
  # nt_ids:
  #   - 390  # site indexing comes from meta_nucleotides.id

  # Forward knobs into the engine to tune selection and initial guesses.
  engine_options:
    global_selection: ac_only  # acceptable values: ac_only, acg_only, all
    global_filters:
      r2_threshold: 0.8
    initialize_kdeg_arrhenius: nmr:deg:dms:Schwalbe_bistris 

  # Metadata mirrored into result artifacts for provenance.
  global_metadata:
    experiment_id: ekc.01.0xx
    notes: "Baseline python engine demo using examples/nerd.sqlite"