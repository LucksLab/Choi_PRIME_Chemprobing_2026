run:
  label: 04_probe_tc_kinetics
  output_dir: Core_nerd_analysis
  backend: local
  threads: 4
  time: "00:39:00"

# Demonstrates the migrated probe timecourse fitting engine.
probe_timecourse:
  engine: python_baseline
  rounds:
    - round1_free
    - round2_global
    - round3_constrained

  # Reaction groups pulled from examples/nerd.sqlite
  rg_ids:
    - 7
    - 9
    - 26
    - 27
    - 28
    - 29
    - 30
    - 31
    - 34
    - 37
    - 39
    - 40
    - 41
    - 42
    - 59 
    - 60
    - 61
    - 62
    - 63
    - 64
    - 65
    - 66
    - 67
    - 68
    - 69
    - 70
    - 71
    - 72
    - 73
    - 74
    # - 2
    # - 5
    # - 35 (no fit)
    # - 36 (no fit)
    # - 38 (wrong x-axis) -> to throw out

  outliers:
    - 28:025-EKC-A8C-75c-a-1-p:19_G:modrate # tp1 too high
    - 28:028-EKC-A8C-75c-a-4-p:19_G:modrate # tp4 too high
    - 39:092-EKC-A8C-37c-b-6-m:19_G:modrate # tp0 too high
    - 41:080-EKC-A8C-50c-a-2-p:19_G:modrate # tp2 too high
    - 57:089_fourU_WT33c_a_6_m:19_G:modrate # tp0 too high
    - 60:051_fourU_A8C40c_a_6_m:19_G:modrate # tp0 too high
    - 60:010_fourU_A8C_40c_a_4_p:19_G:modrate # tp4 too high
    - 60:011_fourU_A8C_40c_a_5_p:19_G:modrate # tp5 too high
    - 60:012_fourU_A8C_40c_a_6_p:19_G:GAmodrate # tp6 too high
    - 61:058_fourU_A8C15c_b_6_m:19_G:modrate # tp0 too high
    - 61:014_fourU_A8C_15c_b_2_p:19_G:modrate # tp3 too high
    - 62:057_fourU_A8C40c_b_6_m:19_G:modrate # tp0 too high
    - 64:063_fourU_A8C42c_a_6_m:19_G:modrate # tp0 too high
    - 65:037_fourU_A8C_20c_b_1_p:19_G:modrate # tp1 too high
    - 65:038_fourU_A8C_20c_b_2_p:19_G:modrate # tp2 too high
    - 65:067_fourU_A8C20c_b_2_p:19_G:modrate # tp2 too high
    - 66:069_fourU_A8C42c_b_6_m:19_G:modrate # tp0 too high
    - 66:044_fourU_A8C_42c_b_2_p:19_G:modrate # tp2 too high
    - 69:061_fourU_A8C_25c_b_1_p:19_G:modrate # tp1 too high
    - 70:081_fourU_A8C45c_b_6_m:19_G:modrate # tp0 too high
    - 71:088_fourU_A8C30c_a_6_m:19_G:modrate # tp0 too high
    - 73:094_fourU_A8C30c_b_6_m:19_G:modrate # tp0 too high
    - 73:086_fourU_A8C_30c_b_2_p:19_G:modrate # tp2 too high
    - 73:091_fourU_A8C30c_b_6_p:19_G:modrate # tp6 too high
    - 7:YYYR-008-EKC-fourUnew-A8C-25C-dms-MaP-25:8_C:modrate # exclude 0tp for C's, too high, everything below
    - 7:YYYR-008-EKC-fourUnew-A8C-25C-dms-MaP-25:9_C:modrate
    - 7:YYYR-008-EKC-fourUnew-A8C-25C-dms-MaP-25:25_C:modrate
    - 7:YYYR-009-EKC-fourUnew-A8C-25C-dms-MaP-60:8_C:modrate
    - 7:YYYR-009-EKC-fourUnew-A8C-25C-dms-MaP-60:9_C:modrate
    - 7:YYYR-009-EKC-fourUnew-A8C-25C-dms-MaP-60:25_C:modrate
    - 7:YYYR-010-EKC-fourUnew-A8C-25C-dms-MaP-120:8_C:modrate
    - 7:YYYR-010-EKC-fourUnew-A8C-25C-dms-MaP-120:9_C:modrate
    - 7:YYYR-010-EKC-fourUnew-A8C-25C-dms-MaP-120:25_C:modrate
    - 7:YYYR-011-EKC-fourUnew-A8C-25C-dms-MaP-180:8_C:modrate
    - 7:YYYR-011-EKC-fourUnew-A8C-25C-dms-MaP-180:9_C:modrate
    - 7:YYYR-011-EKC-fourUnew-A8C-25C-dms-MaP-180:25_C:modrate
    - 7:YYYR-012-EKC-fourUnew-A8C-25C-dms-MaP-240:8_C:modrate
    - 7:YYYR-012-EKC-fourUnew-A8C-25C-dms-MaP-240:9_C:modrate
    - 7:YYYR-012-EKC-fourUnew-A8C-25C-dms-MaP-240:25_C:modrate
    - 39:092-EKC-A8C-37c-b-6-m:8_C:modrate
    - 39:067-EKC-A8C-37c-b-1-p:8_C:modrate
    - 39:092-EKC-A8C-37c-b-6-m:9_C:modrate
    - 39:092-EKC-A8C-37c-b-6-m:25_C:modrate
    - 59:049_fourU_A8C15c_a_2_p:8_C:modrate
    - 59:049_fourU_A8C15c_a_2_p:9_C:modrate
    - 59:049_fourU_A8C15c_a_2_p:25_C:modrate
    - 59:052_fourU_A8C15c_a_6_m:8_C:modrate
    - 59:052_fourU_A8C15c_a_6_m:9_C:modrate
    - 59:052_fourU_A8C15c_a_6_m:25_C:modrate
    - 60:051_fourU_A8C40c_a_6_m:8_C:modrate
    - 60:051_fourU_A8C40c_a_6_m:9_C:modrate
    - 60:051_fourU_A8C40c_a_6_m:25_C:modrate
    - 61:055_fourU_A8C15c_b_2_p:8_C:modrate
    - 61:055_fourU_A8C15c_b_2_p:9_C:modrate
    - 61:055_fourU_A8C15c_b_2_p:25_C:modrate
    - 61:058_fourU_A8C15c_b_6_m:8_C:modrate
    - 61:058_fourU_A8C15c_b_6_m:9_C:modrate
    - 61:058_fourU_A8C15c_b_6_m:25_C:modrate
    - 62:057_fourU_A8C40c_b_6_m:8_C:modrate
    - 62:057_fourU_A8C40c_b_6_m:9_C:modrate
    - 62:057_fourU_A8C40c_b_6_m:25_C:modrate
    - 63:061_fourU_A8C20c_a_2_p:8_C:modrate
    - 63:061_fourU_A8C20c_a_2_p:9_C:modrate
    - 63:061_fourU_A8C20c_a_2_p:25_C:modrate
    - 63:064_fourU_A8C20c_a_6_m:8_C:modrate
    - 63:064_fourU_A8C20c_a_6_m:9_C:modrate
    - 63:064_fourU_A8C20c_a_6_m:25_C:modrate
    - 64:063_fourU_A8C42c_a_6_m:8_C:modrate
    - 64:063_fourU_A8C42c_a_6_m:9_C:modrate
    - 64:063_fourU_A8C42c_a_6_m:25_C:modrate
    - 65:067_fourU_A8C20c_b_2_p:8_C:modrate
    - 65:067_fourU_A8C20c_b_2_p:9_C:modrate
    - 65:067_fourU_A8C20c_b_2_p:25_C:modrate
    - 65:070_fourU_A8C20c_b_6_m:8_C:modrate
    - 65:070_fourU_A8C20c_b_6_m:9_C:modrate
    - 65:070_fourU_A8C20c_b_6_m:25_C:modrate
    - 66:069_fourU_A8C42c_b_6_m:8_C:modrate
    - 66:069_fourU_A8C42c_b_6_m:9_C:modrate
    - 66:069_fourU_A8C42c_b_6_m:25_C:modrate
    - 67:073_fourU_A8C25c_a_2_p:8_C:modrate
    - 67:073_fourU_A8C25c_a_2_p:9_C:modrate
    - 67:073_fourU_A8C25c_a_2_p:25_C:modrate
    - 67:076_fourU_A8C25c_a_6_m:8_C:modrate
    - 67:076_fourU_A8C25c_a_6_m:9_C:modrate
    - 67:076_fourU_A8C25c_a_6_m:25_C:modrate
    - 68:075_fourU_A8C45c_a_6_m:8_C:modrate
    - 68:075_fourU_A8C45c_a_6_m:9_C:modrate
    - 68:075_fourU_A8C45c_a_6_m:25_C:modrate
    - 68:075_fourU_A8C45c_a_6_m:8_C:modrate
    - 68:075_fourU_A8C45c_a_6_m:9_C:modrate
    - 68:075_fourU_A8C45c_a_6_m:25_C:modrate
    - 69:079_fourU_A8C25c_b_2_p:8_C:modrate
    - 69:079_fourU_A8C25c_b_2_p:9_C:modrate
    - 69:079_fourU_A8C25c_b_2_p:25_C:modrate
    - 69:082_fourU_A8C25c_b_6_m:8_C:modrate
    - 69:082_fourU_A8C25c_b_6_m:9_C:modrate
    - 69:082_fourU_A8C25c_b_6_m:25_C:modrate
    - 70:081_fourU_A8C45c_b_6_m:8_C:modrate
    - 70:081_fourU_A8C45c_b_6_m:9_C:modrate
    - 70:081_fourU_A8C45c_b_6_m:25_C:modrate
    - 71:088_fourU_A8C30c_a_6_m:8_C:modrate
    - 71:088_fourU_A8C30c_a_6_m:9_C:modrate
    - 71:088_fourU_A8C30c_a_6_m:25_C:modrate
    - 72:087_fourU_A8C48c_a_6_m:8_C:modrate
    - 72:087_fourU_A8C48c_a_6_m:9_C:modrate
    - 72:087_fourU_A8C48c_a_6_m:25_C:modrate
    - 73:094_fourU_A8C30c_b_6_m:8_C:modrate
    - 73:094_fourU_A8C30c_b_6_m:9_C:modrate
    - 73:094_fourU_A8C30c_b_6_m:25_C:modrate
    - 73:091_fourU_A8C30c_b_6_p:8_C:modrate
    - 73:091_fourU_A8C30c_b_6_p:9_C:modrate
    - 73:091_fourU_A8C30c_b_6_p:25_C:modrate
    - 74:093_fourU_A8C48c_b_6_m:8_C:modrate
    - 74:093_fourU_A8C48c_b_6_m:9_C:modrate
    - 74:093_fourU_A8C48c_b_6_m:25_C:modrate
  # The example database stores probing timecourse amplitudes under multiple value types.
  valtype:
    - modrate
    - GAmodrate

  # Specify experimenter (only 1 currently supported).
  done_by: EKC
  rt_protocol: MRT
  min_points: 3
  overwrite: true

  # Optional nucleotide filter. Uncomment to focus on specific sites.
  # nt_ids:
  #   - 390  # site indexing comes from meta_nucleotides.id

  # Forward knobs into the engine to tune selection and initial guesses.
  engine_options:
    global_selection: ac_only  # acceptable values: ac_only, acg_only, all
    global_filters:
      r2_threshold: 0.8
    initialize_kdeg_arrhenius: nmr:deg:dms:Schwalbe_bistris 

  # Metadata mirrored into result artifacts for provenance.
  global_metadata:
    experiment_id: ekc.01.0xx
    notes: "Baseline python engine demo using examples/nerd.sqlite"