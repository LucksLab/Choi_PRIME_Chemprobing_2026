2025-10-21 06:31:37,163 - nerd.db.api - INFO - Database schema initialized successfully.
2025-10-21 06:31:37,164 - nerd.utils.paths - INFO - Created run directory: manuscript_pipeline/04_probe_tc_kinetics/probe_timecourse/probe_timecourse___cfg-b98f0ca
2025-10-21 06:31:37,164 - nerd.pipeline.tasks.base - INFO - Executing task 'probe_timecourse' in run directory: manuscript_pipeline/04_probe_tc_kinetics/probe_timecourse/probe_timecourse___cfg-b98f0ca
2025-10-21 06:31:37,165 - nerd.db.api - INFO - Began task 'probe_timecourse' (ID: 155) for rg_batch:None (cfg=b98f0caf2bda790faea6900edae9e4f228a17f27167e2cdadbbc5bb9b68357cd)
2025-10-21 06:31:37,166 - nerd.pipeline.tasks.base - INFO - Command completed successfully. Consuming outputs.
2025-10-21 06:31:37,182 - nerd.pipeline.tasks.timecourse - ERROR - Failed to load timecourse data for rg_id=5 valtype=modrate: No timecourse data found for rg_id=5 with done_by=['ekc'].
Traceback (most recent call last):
  File "/Volumes/MiniVault/LucksLab Dropbox/LucksLab/Group_Members/EKC/Projects/EKC.01_SHAPE_Standardization/Experiments/01.065.refactoring_data_analysis/nerd/pipeline/tasks/timecourse.py", line 184, in consume_outputs
    series, rg_meta = self._load_rg_dataset(
                      ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/MiniVault/LucksLab Dropbox/LucksLab/Group_Members/EKC/Projects/EKC.01_SHAPE_Standardization/Experiments/01.065.refactoring_data_analysis/nerd/pipeline/tasks/timecourse.py", line 428, in _load_rg_dataset
    raise ValueError(f"No timecourse data found for rg_id={rg_id} with done_by={done_by_values}.")
ValueError: No timecourse data found for rg_id=5 with done_by=['ekc'].
2025-10-21 06:31:37,221 - nerd.pipeline.tasks.timecourse - ERROR - Failed to load timecourse data for rg_id=5 valtype=GAmodrate: No timecourse data found for rg_id=5 with done_by=['ekc'].
Traceback (most recent call last):
  File "/Volumes/MiniVault/LucksLab Dropbox/LucksLab/Group_Members/EKC/Projects/EKC.01_SHAPE_Standardization/Experiments/01.065.refactoring_data_analysis/nerd/pipeline/tasks/timecourse.py", line 184, in consume_outputs
    series, rg_meta = self._load_rg_dataset(
                      ^^^^^^^^^^^^^^^^^^^^^^
  File "/Volumes/MiniVault/LucksLab Dropbox/LucksLab/Group_Members/EKC/Projects/EKC.01_SHAPE_Standardization/Experiments/01.065.refactoring_data_analysis/nerd/pipeline/tasks/timecourse.py", line 428, in _load_rg_dataset
    raise ValueError(f"No timecourse data found for rg_id={rg_id} with done_by={done_by_values}.")
ValueError: No timecourse data found for rg_id=5 with done_by=['ekc'].
2025-10-21 06:31:37,243 - nerd.cli - ERROR - Failed to execute task 'probe_tc_kinetics': cannot access local variable 'rg_meta' where it is not associated with a value
Traceback (most recent call last):
  File "/Volumes/MiniVault/LucksLab Dropbox/LucksLab/Group_Members/EKC/Projects/EKC.01_SHAPE_Standardization/Experiments/01.065.refactoring_data_analysis/nerd/cli.py", line 132, in run
    task.exec(conn, cfg, verbose=state["verbose"])
  File "/Volumes/MiniVault/LucksLab Dropbox/LucksLab/Group_Members/EKC/Projects/EKC.01_SHAPE_Standardization/Experiments/01.065.refactoring_data_analysis/nerd/pipeline/tasks/base.py", line 264, in exec
    self.consume_outputs(ctx, inputs, params, run_dir, task_id=task_id)
  File "/Volumes/MiniVault/LucksLab Dropbox/LucksLab/Group_Members/EKC/Projects/EKC.01_SHAPE_Standardization/Experiments/01.065.refactoring_data_analysis/nerd/pipeline/tasks/timecourse.py", line 205, in consume_outputs
    if key in rg_meta and key not in global_metadata:
              ^^^^^^^
UnboundLocalError: cannot access local variable 'rg_meta' where it is not associated with a value
